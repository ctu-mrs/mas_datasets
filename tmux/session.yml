name: mas_dataset
root: ./
startup_window: rosbag_play
pre_window: export UAV_NAME=uav25; export ROS_MASTER_URI=http://localhost:11311; export ROS_IP=127.0.0.1
windows:
  - roscore:
      layout: tiled
      panes:
        - roscore
        - ./waitForRos.sh; rosparam set use_sim_time true
  - rosbag_play:
      layout: tiled
      panes:
        # play the whole bag
        - ./waitForRos.sh; rosbag play ../bag_files/vertical.bag --clock -r 1.0
  - rosbag_record:
      layout: tiled
      panes:
        # play the whole bag
        - rosbag record -ax "/os_points"
  - ouster_to_pc:
      layout: tiled
      panes:
        # convert the ouster LiDAR packets into PointClouds 
        - ./waitForRos.sh; roslaunch os_replay.launch replay:=true metadata:=`pwd`/10.10.20.90.json
  - process:
      layout: tiled
      panes:
        # downsample and remove close and far points
        - ./waitForRos.sh; roslaunch slam_pipeline.launch 
  - rviz:
      layout: tiled
      panes:
        # run rviz
        - ./waitForRos.sh; rosrun rviz rviz -d ./rviz.rviz
